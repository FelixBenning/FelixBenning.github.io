<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=HandheldFriendly content="True"><meta http-equiv=x-ua-compatible content="IE=edge"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=generator content="Hugo 0.75.1"><link rel="shortcut icon" href=https://cdn.jsdelivr.net/gh/dsrkafuu/dsr-cdn-main@1/images/favicons/dsrca.ico><title>Proof Assistants for Typesetting Maths - unAssuming</title><meta name=author content="Felix Benning"><meta name=description content="A Blog by Felix Benning"><meta name=keywords content="two-cents,maths"><meta property="og:title" content="Proof Assistants for Typesetting Maths"><meta name=twitter:title content="Proof Assistants for Typesetting Maths"><meta property="og:type" content="article"><meta property="og:url" content="https://www.unassuming.page/blog/mathematics/proof_asssistants_for_typesetting_maths/"><meta property="og:description" content="I am currently trying make our exercise sheets HTML based to allow for things like drop down solutions, which start in a collapsed state. I ended up asking myself whether it might be possible yet to verify proofs submitted by students automatically. So I looked for Proof Assistants and ended up with lean. In particular I tried out the Natural Numbers Game and started reading Theorem Proving in Lean for a more comprehensive introduction.
Landmark based Maths vs Steps in Proof Assistants The first contrast I noticed was the following. When you write down Maths for another human, you tend to write something like:"><meta name=twitter:description content="I am currently trying make our exercise sheets HTML based to allow for things like drop down solutions, which start in a collapsed state. I ended up asking myself whether it might be possible yet to verify proofs submitted by students automatically. So I looked for Proof Assistants and ended up with lean. In particular I tried out the Natural Numbers Game and started reading Theorem Proving in Lean for a more comprehensive introduction.
Landmark based Maths vs Steps in Proof Assistants The first contrast I noticed was the following. When you write down Maths for another human, you tend to write something like:"><meta name=twitter:card content="summary"><meta property="article:published_time" content="2022-04-04T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-04T00:00:00+00:00"><style>@media(prefers-color-scheme:dark){body[data-theme=auto] img{filter:brightness(60%)}}body[data-theme=dark] img{filter:brightness(60%)}</style><link rel=stylesheet href=https://www.unassuming.page/assets/css/fuji.min.css></head><body data-theme=auto data-theme-auto=false><script data-cfasync=false>var fujiThemeData=localStorage.getItem('fuji_data-theme');if(!fujiThemeData){localStorage.setItem('fuji_data-theme','auto');}else{if(fujiThemeData!=='auto'){document.body.setAttribute('data-theme',fujiThemeData==='dark'?'dark':'light');}}</script><header><div class="container-lg clearfix"><div class="col-12 header"><a class=title-main href=https://www.unassuming.page>unAssuming</a></div></div></header><main><div class="container-lg clearfix"><div class="col-12 col-md-9 float-left content"><article><h2 class="post-item post-title"><a href=https://www.unassuming.page/blog/mathematics/proof_asssistants_for_typesetting_maths/>Proof Assistants for Typesetting Maths</a></h2><div class="post-item post-meta"><span><i class="iconfont icon-today-sharp"></i>&nbsp;2022-04-04</span>
<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;1076 words</span>
<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href=/tags/two-cents>two-cents</a>&nbsp;<a href=/tags/maths>maths</a>&nbsp;</span></div><div class="post-content markdown-body"><p>I am currently trying make our exercise sheets HTML based to allow for things
like drop down solutions, which start in a collapsed state. I ended up asking
myself whether it might be possible yet to verify proofs submitted by students
automatically. So I looked for Proof Assistants and ended up with lean. In
particular I tried out the <a href=https://www.ma.imperial.ac.uk/~buzzard/xena/natural_number_game/ target=_blank>Natural Numbers
Game</a> and
started reading <a href=https://leanprover.github.io/theorem_proving_in_lean4/title_page.html target=_blank>Theorem Proving in Lean</a> for a more comprehensive introduction.</p><h2 id=landmark-based-maths-vs-steps-in-proof-assistants>Landmark based Maths vs Steps in Proof Assistants</h2><p>The first contrast I noticed was the following. When you write down Maths for
another human, you tend to write something like:</p><p>We have</p><pre><code class=language-text>Equation 1
</code></pre><p>which implies</p><pre><code class=language-text>Equation 2
</code></pre><p>using induction we get</p><pre><code class=language-text>Equation 3
</code></pre><p>In other words, you write down &ldquo;Landmark&rdquo; Equations and assume that the person
you are talking to will be able to do the steps in-between. Sometimes you add
some directional hints between those landmarks. E.g. &ldquo;using induction&rdquo;, but
you do not actually write out precise instructions like you do in Lean.</p><p>Giving directions in lean feels like saying:</p><pre><code>1. Go 10 steps South-East
2. Turn 30 degrees left and go 40 steps
3. Move your foot 30cm forward and then 10cm down
4. Repeat step 3 with alternating feet 5 times 
5. Turn 50 degrees right and go 100 steps
</code></pre><p>While you would usually just say:</p><pre><code class=language-text>turn South-East, you should see a Watertower there go there. From there continue
on to...
</code></pre><p>Depending on how familiar some person is to the city you would make your
description more or less precise.</p><h3 id=why-the-difference>Why the Difference?</h3><p>Step based instructions make perfect sense if you are trying to give directions
to a robot. You circumvent the entire vision/identification problem, and you
do not have to worry whether or not the culture shifts and what was once a
prominent landmark is now hard to recognize, making your directions harder to
read in the future.</p><p>But, they are absolutely garbage for a human. Because landmark based
instructions provide you with information about the <em>state</em> you are in. And it
is easy to check whether you are really at a water tower or whether you really
got to the next equation. With step based instructions it is often difficult to
know whether or not you followed the steps correctly so far.</p><p>In other words: you never know if you are in the correct state if you are not
perfectly sure that you made the right steps beforehand. And I noticed this
writing down proofs myself: I <em>greatly</em> depend on lean telling me the
current state interactively when hovering over some step.</p><p>In this sense lean feels like the assembly of theorem proving, possibly C. It
is shaped by the requirements of a computer and you need your IDE to help you
navigate the code as a human.</p><h3 id=solving-the-vision-problem>Solving the vision problem</h3><p>Is it possible to write landmark based directions and compile them into steps?
Maybe. But also maybe not. There is probably a reason Lean was not designed
that way. This might be difficult to do with explicit instructions.</p><p>But just like you would not attempt to solve a vision/classification problem
with classic code, maybe this is not a task for a compiler but machine learning.</p><p>Now if you are aware of OpenAi Codex (<a href=https://copilot.github.com/ target=_blank>GitHub Copilot</a>), you might be guessing where this is going. GitHub Copilot attempts to
autocomplete your code based on comments, function stubs or list stubs.</p><p>Now image GitHub copilot could fill in the instructions between the following
comments</p><pre><code class=language-lean>-- Move around the corner to your south-east
Go 10 steps South-East
Turn 30 degrees left and go 40 steps
-- walk down the set of stairs
Move your foot 30cm forward and then 10cm down
Repeat step 3 with alternating feet 5 times 
-- walk towards the water tower on your right
Turn 50 degrees right and go 100 steps
</code></pre><p>But for this to work, you need to be able to train your Copilot on existing
code with comments. How could you obtain such a dataset? Well&mldr;</p><h2 id=typesetting-interactive-maths>Typesetting Interactive Maths</h2><p>Let us forget the issue we had for a second and consider a different problem.
If you want to create an interactive proof, you can not really use (La)TeX.
Not only because it is a legacy programming language few people dare to touch,
but also because it is on the other side of the machine-interpretable vs
human-interpretable side.</p><p>For example, <a href=https://en.wikipedia.org/wiki/MathML target=_blank>MathML</a> uses a unicode for invisible multiplication
(<code>U+2062</code>) and one for function applications (<code>U+2061</code>) to discern between
the two interpretations of</p><pre><code class=language-text>h(x+y)
</code></pre><p>One being that <code>h</code> is a function, the second being that <code>h</code> is a constant
multiplied with the sum of <code>x</code> and <code>y</code>. TeX simply does not have that. Now
<a href=https://en.wikipedia.org/wiki/MathML target=_blank>MathML</a> has its own problems. Browser support is
<a href=https://developer.mozilla.org/en-US/docs/Web/MathML#browser_compatibility target=_blank>abysmal</a>. It is basically only fully supported by Firefox.
This means that conversion tools like <a href=https://math.nist.gov/~BMiller/LaTeXML/ target=_blank>latexml</a> suggest including a fallback
script, which includes <a href=https://www.mathjax.org/ target=_blank>MathJax</a> for any browser which is not <a href=https://en.wikipedia.org/wiki/Gecko_%28software%29 target=_blank>Gecko</a>
based. Of course <a href=https://www.mathjax.org/ target=_blank>MathJax</a> is <a href=https://en.wikipedia.org/wiki/MathML target=_blank>MathML</a> based,</p><blockquote><p>MathJax uses MathML as the basis for its internal format for mathematical
expressions, so MathML support is built into MathJax at a fundamental level. -
<a href=https://docs.mathjax.org/en/latest/output/mathml.html>https://docs.mathjax.org/en/latest/output/mathml.html</a></p></blockquote><p>so there isn&rsquo;t really a way around <a href=https://en.wikipedia.org/wiki/MathML target=_blank>MathML</a> either, if you want to typeset
mathematics for the web. But writing <a href=https://en.wikipedia.org/wiki/MathML target=_blank>MathML</a> directly is no fun either since
it is incredibly verbose. So if you are not converting existing <code>.tex</code> files
using a tool like <a href=https://math.nist.gov/~BMiller/LaTeXML/ target=_blank>latexml</a>. You are probably better of, with a combination of
<code>html</code> or <code>markdown</code> and <a href=https://www.mathjax.org/ target=_blank>MathJax</a> or <a href=https://katex.org/ target=_blank>KaTeX</a>. Even though that entails marrying
the different escape mechanisms of <code>html</code> or <code>markdown</code> with the TeX
escapes (multiple backslashes ensue), and working around the fact that
<a href=https://www.mathjax.org/ target=_blank>MathJax</a> and <a href=https://katex.org/ target=_blank>KaTeX</a> are far from feature complete TeX compilers.</p><p>On the whole: not a fun experience, 1/10, would recommend for the lack of better
options.</p><h3 id=typesetting-with-lean>Typesetting with Lean?</h3><p>Imagine you could render your Lean proof. One thing would be certain: The
computer understands what is going on. Therefore if you do not understand
an equation, you could easily use the rewrite rules in your proof to do stuff
like animate how the next equation comes to be. But you could certainly add a
bunch more steps in-between. In other words: a proof typeset with Lean could
be fully interactive and personalized for the reader. How much you show a
person might depend on what they read before and how they collapsed or expanded
steps before. Maths would become arbitrarily accessible!</p></div></article><div class=post-comment data-comment=utterances><span class=post-comment-notloaded><i class="iconfont icon-chatbox-ellipses-sharp"></i>&nbsp;Load comments</span>
<script>function loadComment(){var commentArea=document.querySelector('.post-comment');var utterancesTheme=document.body.getAttribute('data-theme');if(utterancesTheme==='auto'){utterancesTheme=window.matchMedia('(prefers-color-scheme: dark)').matches?'photon-dark':'github-light';}else{utterancesTheme=utterancesTheme==='dark'?'photon-dark':'github-light';}
var s=document.createElement('script');s.src='https://utteranc.es/client.js';s.setAttribute('repo','FelixBenning\/FelixBenning.github.io');s.setAttribute('issue-term','pathname');s.setAttribute('theme',utterancesTheme);s.setAttribute('crossorigin','anonymous');s.setAttribute('async','');document.querySelector('.post-comment').appendChild(s);document.querySelector('span.post-comment-notloaded').setAttribute('style','display: none;');}</script></div></div><aside class="col-12 col-md-3 float-left sidebar"><div class="sidebar-item sidebar-pages"><h3>Pages</h3><ul><li><a href=/archives/>Archives</a></li><li><a href=/about/>About</a></li><li><a href=/search/>Search</a></li></ul></div><div class="sidebar-item sidebar-links"><h3>Links</h3><ul><li><a href=https://github.com/FelixBenning target=_blank><span>GitHub</span></a></li><li><a href=mailto:Felix.Benning@gmail.com target=_blank><span>Email</span></a></li></ul></div><div class="sidebar-item sidebar-tags"><h3>Tags</h3><div><span><a href=/tags/algebra/>algebra</a></span>
<span><a href=/tags/analysis/>analysis</a></span>
<span><a href=/tags/climate-change/>climate-change</a></span>
<span><a href=/tags/economics/>economics</a></span>
<span><a href=/tags/education/>education</a></span>
<span><a href=/tags/health/>health</a></span>
<span><a href=/tags/linear-algebra/>linear-algebra</a></span>
<span><a href=/tags/maths/>maths</a></span>
<span><a href=/tags/philosophy/>philosophy</a></span>
<span><a href=/tags/politics/>politics</a></span>
<span><a href=/tags/programming/>programming</a></span>
<span><a href=/tags/tools/>tools</a></span>
<span><a href=/tags/two-cents/>two-cents</a></span></div></div><div class="sidebar-item sidebar-toc"><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#landmark-based-maths-vs-steps-in-proof-assistants>Landmark based Maths vs Steps in Proof Assistants</a><ul><li><a href=#why-the-difference>Why the Difference?</a></li><li><a href=#solving-the-vision-problem>Solving the vision problem</a></li></ul></li><li><a href=#typesetting-interactive-maths>Typesetting Interactive Maths</a><ul><li><a href=#typesetting-with-lean>Typesetting with Lean?</a></li></ul></li></ul></nav></div></aside></div><div class=btn><div class=btn-menu id=btn-menu><i class="iconfont icon-grid-sharp"></i></div><div class=btn-toggle-mode><i class="iconfont icon-contrast-sharp"></i></div><div class=btn-scroll-top><i class="iconfont icon-chevron-up-circle-sharp"></i></div></div><aside class=sidebar-mobile style=display:none><div class=sidebar-wrapper><div class="sidebar-item sidebar-pages"><h3>Pages</h3><ul><li><a href=/archives/>Archives</a></li><li><a href=/about/>About</a></li><li><a href=/search/>Search</a></li></ul></div><div class="sidebar-item sidebar-links"><h3>Links</h3><ul><li><a href=https://github.com/FelixBenning target=_blank><span>GitHub</span></a></li><li><a href=mailto:Felix.Benning@gmail.com target=_blank><span>Email</span></a></li></ul></div><div class="sidebar-item sidebar-tags"><h3>Tags</h3><div><span><a href=/tags/algebra/>algebra</a></span>
<span><a href=/tags/analysis/>analysis</a></span>
<span><a href=/tags/climate-change/>climate-change</a></span>
<span><a href=/tags/economics/>economics</a></span>
<span><a href=/tags/education/>education</a></span>
<span><a href=/tags/health/>health</a></span>
<span><a href=/tags/linear-algebra/>linear-algebra</a></span>
<span><a href=/tags/maths/>maths</a></span>
<span><a href=/tags/philosophy/>philosophy</a></span>
<span><a href=/tags/politics/>politics</a></span>
<span><a href=/tags/programming/>programming</a></span>
<span><a href=/tags/tools/>tools</a></span>
<span><a href=/tags/two-cents/>two-cents</a></span></div></div><div class="sidebar-item sidebar-toc"><h3>Table of Contents</h3><nav id=TableOfContents><ul><li><a href=#landmark-based-maths-vs-steps-in-proof-assistants>Landmark based Maths vs Steps in Proof Assistants</a><ul><li><a href=#why-the-difference>Why the Difference?</a></li><li><a href=#solving-the-vision-problem>Solving the vision problem</a></li></ul></li><li><a href=#typesetting-interactive-maths>Typesetting Interactive Maths</a><ul><li><a href=#typesetting-with-lean>Typesetting with Lean?</a></li></ul></li></ul></nav></div></div></aside></main><footer><div class="container-lg clearfix"><div class="col-12 footer"><span>&copy; 2025
<a href=https://www.unassuming.page>Felix Benning</a>
| Powered by <a href=https://github.com/dsrkafuu/hugo-theme-fuji/ target=_blank>Fuji-v2</a> & <a href=https://gohugo.io/ target=_blank>Hugo</a></span></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-core.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js></script><script defer src=/assets/js/fuji.min.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css integrity=sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js integrity=sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false},{left:'\\(',right:'\\)',display:false},{left:'\\[',right:'\\]',display:true}],throwOnError:false});});</script></body></html>